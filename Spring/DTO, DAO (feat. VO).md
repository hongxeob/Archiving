## 들어가기전..

우선 DTO,DAO의 개념을 공부하기 전 Entity에 대한 지식이 필요하다.

## Entity

- DB의 테이블에 존재하는 Column들을 필드로 가지는 객체를 말한다.
- **Entity는 DB의 테이블과 1:1로 대응되며, 때문에 테이블이 가지지 않는 컬럼을 필드로 가지면 안된다.**
- Entity클래스는 다른 클래스를 상속받거나 인터페이스의 구현체여서는 안된다.
- 즉 **Entity를 데이터를 전달하는 클래스로 사용하면 안 된다. (DB 테이블과 매핑되는 클래스 이므로)**

## DTO (Data Transfer Object)

- 말 그대로 데이터를 Transfer(이동)하기 위한 객체이다.
- 클라이언트가 컨트롤러에 요청을 보낼ㄷ 때도 `RequestDto` 형식으로 데이터가 이동하고, 반대로 컨트롤러가 클라이언트에 응답을 보낼 때도 `ResponseDto`의 형태로 보내게 된다.
- Controller ↔ Service ↔ Repository 계층 사이에 데이터가 오갈 때도 데이터는 DTO의 형태로 이동하게 된다.
- 로직을 갖고 있지 않는 순수한 데이터 객체이며, 일반적으로 getter/setter 메소드만 가진다.
    - 하지만 단순히 데이터를 옮기는 용도이기 때문에 굳이 Setter를 이용해 값을 수정할 필요가 없이, 생성자만을 사용하여 값을 할당하는 게 좋다.

## DTO의 사용이유

데이터를 이동할 때 왜 Entity 객체를 그대로 사용하지 않고 굳이 DTO를 사용하는 것일까?

- **View Layer와 DB Layer의 역할을 분리하기 위해서**
    - 객체를 표현하기 위한 계층과 저장하는 계층의 역할을 분리하기 위해 DTO 사용
- **Entity 객체의 변경을 피하기 위해서**
    - Entity객체를 그대로 사용하면 프로그래머의 의도와 다르게 데이터가 변할 수 있다.
- **View와 통신하는 DTO 클래스는 자주 변경된다.**
    - View(클라이언트)와 통신하는 `ResponseDto`, `RequestDto`는 요구사항에 따라 자주 변경된다.
    - 어떤 요청에서는 특정 값이 추가될 수도 있고, 특정값이 없을 수도 있다. 따라서 Entity 클래스와 분리하여 관리해야 한다.
- **도메인 모델링을 지키기 위해서**
    - 도메인 설계를 잘하였다고 하더라도 원하는 데이터를 표시하기가 쉽지 않을 수 있다.
    - 예를 들어 Entity 클래스의 특정 컬럼들을 조합하여 특정 포맷을 출력하고 싶다고 하자.
    - Entity 클래스에 표현을 위한 필드나 로직이 추가되면 객체 설계를 망가뜨릴 수 있다.
    - 따라서 DTO에 표현을 위한 로직을 추가해서 사용하는 것이 Entity의 도메인 모델링을 지킬 수 있다.

### DTO? VO (Value Object)?

>DTO는 VO와 용어를 혼용해서 많이 사용하는데, **VO는 읽기만 가능한 read only 속성**(불변)을 가져 DTO와의 차이점이 존재한다.

- 일반적으로 DTO는 로직을 가지고 있지 않은 순수한 데이터의 객체이며 객체의 속성과 그 속성의 접근을 위한 `getter`/`setter` 메소드만을 가지고 있다.
- VO는 `getter()` 메소드를 포함해서, 이외의 비즈니스 로직도 포함할 수 있다.
    - 하지만 `setter()` 메소드는 가지지 않는다 (오로지 읽기만 가능하기 때문)

## DAO (Data Access Object)란?

- DAO는 말그대로 실제 DB에 접근하는 객체를 뜻한다.
- Service와 실제 데이터베이스를 연결하는 역할을 하게 된다.
    - 즉 DB에서 데이터를 꺼내오거나 넣는 역할을 DAO가 담당한다.
- JPA의 경우 Repository가 DAO의 역할을 한다고 볼 수 있지만 DAO와 Repository가 같은 것은 아니다.

### 간단 정리

|  | DTO | VO | Entity |
| --- | --- | --- | --- |
| 정의 | Layer간의 데이터 전송용 객체 | 값을 표현하는 객체 | DB 테이블에 대해 매핑하는 객체 |
| 상태 변경 여부 | 가변 혹은 불변 | 불변 | 가변 혹은 불변 |
| 로직 여부 | getter() / setter()메소드에 대한 로직만 포함한다. | setter() 메소드 이외의 메소드를 가진다. | 로직을 포함할 수 있다. |